{% extends 'base.html.twig' %}

{% block title %}Nazwa Schroniska{% endblock %}
{% block head %}


{% endblock %}
{% block body %}




<section>
    <div class="relative " data-carousel="static">
            <ul id='slider'>
                <li class="h-[50vh] ">
                        <p class="absolute text-4xl text-yellow-300 hover:text-yellow-200 top-80 left-64 bg-gray-600 rounded-lg p-2 z-10"><a href="{{path('app_dog_all')}}" >Psy Do Adopcji</a></p>
                        <img class="object-cover absolute block  h-full w-full  translate-x-{amount} " src="{{mainslider~'first.jpg'}}"/>  
                </li>
                <li class="h-[50vh] hidden ">
                    <p class="absolute text-4xl text-yellow-300 hover:text-yellow-200 top-80 left-64 bg-gray-600 rounded-lg p-2 z-10"><a href="{{path('app_dog_all')}}" >Darowizna</a></p>
                    <img class=" object-cover h-full w-full" src="{{mainslider~'second.jpg'}}"/>
                </li>
                <li class="h-[50vh] hidden">
                    <p class="absolute text-4xl text-yellow-300 hover:text-yellow-200 top-80 left-64 bg-gray-600 rounded-lg p-2 z-10"><a href="{{path('app_dog_all')}}" >Aktualności</a></p>
                    <img class=" object-cover h-full w-full" src="{{mainslider~'third.jpg'}}"/>
                </li>
            </ul>
        <div class="absolute flex h-full w-full top-0 left-0 px-5">
            <div class="my-auto  w-full flex justify-between">
                <button id="prevbutton" onclick = "prev()" class="bg-white p-3 rounded-full bg-opacity-80 shadow-lg" >
                    <i class="fa-solid fa-arrow-left "></i>
                </button>
                <button it="nextbutton" onclick ="next()" class="bg-white p-3 rounded-full bg-opacity-80 shadow-lg" >
                    <i class="fa-solid fa-arrow-right "></i>
                </button >
            </div>
        </div>
    </div>
</section>
<section>
<div class=" flex flex-col items-center mt-10 ">
    <div class="text-3xl mb-4 text-gray-600">Aktualności</div>
    <div class="grid grid-cols-1 gap-2 sm:gap-6 sm:grid-cols-2 md:grid-cols-3 md:gap-8 lg:grid-cols-4 lg:gap-10 ">
        {% for post in posts %}
            <div class=" text-center border-2 border-gray-600 rounded-md p-0 m-0 ">
                <a class="p-0 m-0 " href="{{path('app_post_show',{id:post.id})}}">
                    <div class="relative ">
                        <div class="">{{ include('post/_post_image.html.twig',{'width':96,'height':96,post:post})}}</div>
                        <div class="px-2  text-2xl w-full  text-gray-500 font-semibold absolute bottom-0 text-white bg-gray-700 opacity-50 hover:opacity-75 ">{{ post.title|length > 60? post.title|slice(0,57)~'...':post.title|nl2br}}</div>
                    </div>
                </a>
            </div>
        {% endfor %}
    </div>
</div>
</section>
{% block javascripts %}
<script>
currentSlideId = 1;
sliderElement = document.getElementById('slider');
console.log(sliderElement);
totalSlides = sliderElement.childElementCount;
slides = document.getElementById('slider').getElementsByTagName('li');
function next()
{
    if(currentSlideId < totalSlides)
    {
        const element = slides[currentSlideId];
        currentSlideId++;
        showSlide();
    }
    else
    {
        currentSlideId = 1;
        showSlide();
    }

}

function prev()
{
    if(currentSlideId > 1)
    {
        currentSlideId--;
        showSlide();
    }
    else
    {
        currentSlideId = totalSlides;
        showSlide();
    }
}

function showSlide()
{

    for(let index = 0; index < totalSlides; index++)
    {
        const element = slides[index];
        if(currentSlideId===index+1)
        {
            element.classList.remove('hidden')
        }
        else
        {
            element.classList.add('hidden')
        }
    }
}
</script>

{% endblock %}




{% endblock %} 